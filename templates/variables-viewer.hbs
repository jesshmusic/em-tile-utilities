<div class="em-puzzles-variables-dialog">
  <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
    <button type="button" class="refresh-variables" data-action="refresh">
      <i class="fas fa-sync"></i> {{localize "EMPUZZLES.Refresh"}}
    </button>
    <button type="button" data-action="showHelp" title="How to use variables">
      <i class="fas fa-question-circle"></i> {{localize "EMPUZZLES.Help"}}
    </button>
  </div>

  <div style="max-height: 500px; overflow-y: auto;">
    {{#if hasVariables}}
      <table class="variables-table">
        <thead>
          <tr>
            <th>{{localize "EMPUZZLES.Variable"}}</th>
            <th>{{localize "EMPUZZLES.Value"}}</th>
          </tr>
        </thead>
        <tbody>
          {{#each tileGroups as |group|}}
            <tr class="tile-group-header">
              <td colspan="2">
                <strong><i class="fas fa-cube"></i> {{group.tileName}}</strong>
              </td>
            </tr>
            {{#each group.variables as |varData|}}
              <tr class="variable-row">
                <td><code>{{varData.name}}</code></td>
                <td>{{{varData.valueDisplay}}}</td>
              </tr>
            {{/each}}
          {{/each}}
        </tbody>
      </table>
    {{else}}
      <p><em>{{localize "EMPUZZLES.NoVariablesFound"}}</em></p>
    {{/if}}
  </div>
</div>
